<<<<<<< HEAD
---
title: "Initial Code"
author: "Honey Patel"
date: "2025-04-22"
output: html_document
---

```{r}
# Load tidyverse
#install.packages('tidyverse')
library(tidyverse)

# Read the original CSV files
fastfood <- read_csv("https://raw.githubusercontent.com/Stat184-Spring2025/Stat184-Spring2025-Sec3_FP_ShaileePatel_HoneyPatel/refs/heads/main/fastfood.csv?token=GHSAT0AAAAAADCD5WI4JH2GMYL7OIE3H4C62AJTOKA",show_col_types = FALSE)
nutrition <- read_csv("https://raw.githubusercontent.com/Stat184-Spring2025/Stat184-Spring2025-Sec3_FP_ShaileePatel_HoneyPatel/refs/heads/main/Nutrition_Value_Dataset.csv?token=GHSAT0AAAAAADCD5WI5PY5OT7QANTB372G22AJTN7Q",show_col_types = FALSE)

# Clean the fastfood CSV
fastfood_clean <- fastfood %>%
  select(
    Restaurant = restaurant,
    Product = item,
    Calories = calories,
    Carbs = total_carb,
    Fat = total_fat,
    Cholesterol = cholesterol,
    Protein = protein
  )

# Clean the second fast food CSV
nutrition_clean <- nutrition %>%
  select(
    Restaurant = Company,
    Product = Product,
    Calories = `Energy (kCal)`,
    Carbs = `Carbohydrates (g)`,
    Fat = `Total Fat (g)`,
    Cholesterol = `Cholesterol (mg)`,
    Protein = `Protein (g)`
  )
# Combine the two cleaned datasets and save as new CSV
combined_nutrition <- bind_rows(fastfood_clean, nutrition_clean)
write_csv(combined_nutrition, "combined_nutrition_data.csv")
```

```{r}
# Load require libraries
library(tidyverse)
library(RColorBrewer)
library(knitr)
library(kableExtra)

# Load the combined_nutrition_data.csv file 
data <- read_csv("https://raw.githubusercontent.com/Stat184-Spring2025/Stat184-Spring2025-Sec3_FP_ShaileePatel_HoneyPatel/refs/heads/dev/combined_nutrition_data.csv?token=GHSAT0AAAAAADCD5WI42MRE4SGBEZXIBDPA2AJTPBA")


# Question 1 -----------------------------------------------------------
# How does calorie count vary by restaurant?
# Goal: Reveal distribution of restaurants using calorie count (spread, outliers)
# Selection of visualization: Box Plot
# Rationale: Shows median, IQR, and outliers at once. We care about variation in data, e.g., whether Restaurant A has a few extremely high-calorie outliers vs. Restaurant B’s consistently mid-range menu—a box plot (or violin plot) is by far the more informative choice.

ggplot(data, aes(x = Restaurant, y = Calories, fill = Restaurant)) +
  geom_boxplot() +
  coord_flip() +                        # horizontal boxes for readability
  theme_minimal() +
  theme(
    legend.position = "none",           # drop the legend
    axis.title.x     = element_text(), 
    axis.title.y     = element_blank()
  ) +
  labs(
    x = NULL,
    y = "Calories",
    title = "Calorie Distribution by Restaurant"
  )

# Question 2 -----------------------------------------------------------
# Do different restaurants differ in how healthy their items are (based on calories, fat, and protein)?
# Goal: Compare central tendencies of Calories, Fat, and Protein across restaurants to assess relative “healthiness.”
# Selection of visualization: Summary table + grouped bar chart
# Rationale: 
#   - Table gives exact average values for each metric  
#   - Grouped bar chart lets you visually compare multiple metrics side-by-side

restaurant_stats %>%
  filter(Restaurant=="Burger King") %>%
  pull(avg_protein)


# 1. Compute per-restaurant averages
restaurant_stats <- data %>%
  group_by(Restaurant) %>%
  summarise(
    avg_calories = mean(Calories),
    avg_fat      = mean(Fat),
    avg_protein  = mean(Protein)
  )

# 2. Bar chart: Average Calories
ggplot(restaurant_stats, aes(
    x = avg_calories,
    y = reorder(Restaurant, avg_calories)
  )) +
  geom_col(fill = "#FFA07A") +
  labs(
    title = "Average Calories by Restaurant",
    x     = "Avg Calories",
    y     = NULL
  ) +
  theme_minimal()

# 3. Bar chart: Average Fat
ggplot(restaurant_stats, aes(
    x = avg_fat,
    y = reorder(Restaurant, avg_fat)
  )) +
  geom_col(fill = "#20B2AA") +
  labs(
    title = "Average Fat (g) by Restaurant",
    x     = "Avg Fat (g)",
    y     = NULL
  ) +
  theme_minimal()

# 4. Bar chart: Average Protein
ggplot(restaurant_stats, aes(
    x = avg_protein,
    y = reorder(Restaurant, avg_protein)
  )) +
  geom_col(fill = "#778899") +
  labs(
    title = "Average Protein (g) by Restaurant",
    x     = "Avg Protein (g)",
    y     = NULL
  ) +
  theme_minimal()
```

